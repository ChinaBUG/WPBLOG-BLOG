---
ID: 1628
post_title: >
  密码保护：ShopEX-二次开发-为列表增加新的显示字段及后台会员列表无法显示新字段原因分析
author: ChinaBUG
post_excerpt: |
  案例描述：
  我们登陆后台后，如查看订单列表时，那些显示出来的字段如什么订单号、下单时间、订单总额等名字是怎么获取并且怎么控制的呢？我要怎么添加自己要显示的已经存在的字段？要如何添加自己的字段，并让他显示出来呢？
  对于如上的疑问：
  1. 问：如何显示已经存在的字段：
  答：在这行的最后，有一个表格的标志，点击就进入“编辑列表项”，把你需要的项目给打钩，移动位置排序，那么该字段就会显示出来了。
  2. 问：如何添加自己的字段并让它显示出来：
  答：根据下面的操作去做，然后按照上面的显示方法显示。
layout: post
permalink: >
  http://blog.ipodmp.com/2011/07/shopex-2-dev-the-display-of-the-list-to-add-new-fields-and-the-background-member-list-can-not-display-the-new-field-analysis.html
published: true
post_date: 2011-07-15 09:59:17
---
案例描述：

我们登陆后台后，如查看订单列表时，那些显示出来的字段如什么订单号、下单时间、订单总额等名字是怎么获取并且怎么控制的呢？我要怎么添加自己要显示的已经存在的字段？要如何添加自己的字段，并让他显示出来呢？

对于如上的疑问：
<ol>
	<li>问：如何显示已经存在的字段：
答：在这行的最后，有一个表格的标志，点击就进入“编辑列表项”，把你需要的项目给打钩，移动位置排序，那么该字段就会显示出来了。</li>
	<li>问：如何添加自己的字段并让它显示出来：
答：根据下面的操作去做，然后按照上面的显示方法显示。</li>
</ol>
下面就实例操作一下吧，我们给订单列表增加一个编码字段，在我的案例之中，这个字段是用来保存抽奖验证码的。

要增加的字段参数如下：

字段名：v_code
字段属性：文本
必填项：不必须
列表显示名：抽奖免单验证码

第一步 修改数据库

增加v_code字段，别告诉我你不懂，不懂得话还是去看一下教程吧。

第二步 增加列表显示名

请找到core\schemas\orders.php文件，打开找到

'print_id'=&gt;array(
'type'=&gt;'varchar(20)',
'required'=&gt;false,
'label'=&gt;'订单打印编号',
),

并在其下面增加下面的代码：

'v_code'=&gt;array(
'type'=&gt;'text',
'required'=&gt;false,
'label'=&gt;'抽奖免单验证码',
),

注意：两者之间需要用“,”隔开。

请清空缓存后重新载入订单页（说白点就是清空完缓存，点击一下其他类，如商品，然后在返回订单页），这个时候按照第一问中的办法，你会看到编辑列表项里面出现“抽奖免单验证码”项，调整一下位置，记得打钩，保存，你就会看到出现了噢。

附录：后台会员列表无法显示新字段原因分析

这个步骤做下来，肯定可以出现字段的，不过有个朋友做了之后并没有出现，我提供了如下方法调试，不管是不是主要原因，就当做了解吧
<ol>
	<li>检查一下，你确定这项前面打钩了没~因为打钩之后你拖动移动位置时，会自动变没。</li>
	<li>那就是宽度小，被遮住了。。你只要吧其他几项没用的字段先隐藏，就能看到了。</li>
	<li>index里面需要指定默认的字段。。你需要指定$finder_default_cols的值</li>
	<li>请记得清空缓存</li>
</ol>
朋友最后反馈的原因就是没有清空缓存。

<span style="text-decoration: underline; background-color: #ffffff; color: #ff0000;">虫神在这边要提醒大家的就是，凡是你修改了涉及到功能性的代码时，最好清空缓存，这个清空缓存问题在修改前台程序时特明显！！</span>