---
ID: 3988
post_title: >
  ShopEX-制作手机模板时，编辑功能不能用了,如何分析与调试解决问题
author: ChinaBUG
post_excerpt: ""
layout: post
permalink: >
  http://blog.ipodmp.com/2015/04/shopex-when-making-a-mobile-template-edit-function-can-not-be-used.html
published: true
post_date: 2015-04-07 18:10:04
---
哎，最近在帮朋友制作ShopEX手机模板的时候，一开始还是好好的，结果做完二次开发后就发现，模板的编辑不能用了，好神奇。

遇到这种情况只能是一步步的来调试了。

第一步

最简单的就是查看一下可不可以编辑其他的模板。经测试，其他模板完全正常，照样可以编辑噢。

结论：肯定不是系统的问题，也就不存在是二开造成的问题了。

第二步

因为第一步，所以我们的视线都在模板上面。而模板可以编辑的条件是模板的文件头（header.html）与文件尾（footer.html）都是需要加载JS脚本的，难道冲突了呢？

最简单的就是将我们自己的资源给关闭掉，比如JS文件，脚本块等等都关闭掉，发现问题照旧，但是却发现一个问题就是：没办法编辑挂件的坑，但是可以给这些挂件坑安装挂件。

结论：经过文件的替换，会发现可以添加挂件，也就是不存在JS的冲突。

第三步

因为排除了JS冲突问题，但是不能编辑，所以就在想：会不会是因为那里的样式把这个编辑的框给遮住？或者是给弄隐藏了？

好吧，分析其他的模板发现如果有编辑框出现的话，代码里面会增加一个模块结构来替换坑所在的位置的内容，那么就去查看有没有生成这个编辑结构，思路上来说，如果有生成这个编辑框的结构，那么肯定就是被样式给隐藏或者遮住了。结果很令人遗憾。

结论：压根就没生成这个编辑器框。

第四步

在第三步，我们发现编辑器没有生成这个编辑框，也就是说这个模块的鼠标移动上去的脚本是没有被触发，也就根本不存在被隐藏跟遮住的情况了。

那么，为什么鼠标移动上去的脚本没有被触发呢？经过检查发现这个脚本是有加载的......

问题就这个纠结在一起。

因为我很清楚的知道不可能是脚本的冲突，因为我的模板脚本很少。而系统本身的却证明是正确的。那么问题在哪里呢？

第五步

想半天，还是没有解决问题，脑子里面想了老半天，直觉还是觉得可能是样式表里面是不是有什么东西把模板给限制了，老觉得除了这个样式文件外真的没其他的原因了。

好吧，死马当活马医，把样式表去掉，哇靠~~问题居然解决了，想起三步，为啥没有把样式去掉呢？！

好吧，将样式表分解开，一部分一部分的加载，然后就发现问题所在了。

结论：发现问题所在。

&gt;...&lt;

是什么造成这个问题呢？

原因就是编辑框的父类框的类名是themefoot而我好死不死的将尾部的div的类名命名为themefoot！！！

最关键是，还给她display:none你觉得他能出现嘛~~！

好吧，真的是偷懒的人，为啥用这个类名呢，我想了一下是当时在查看版权说明的时候，就是在那边上叫这个名字，我就没仔细看就把这个名字给用了，结果是隐藏了版权，但是也把编辑框给隐藏了。